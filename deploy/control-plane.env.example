# Narvana Control Plane Configuration
# Copy to /etc/narvana/control-plane.env and fill in values

# Database (required)
DATABASE_URL=postgres://narvana:password@localhost:5432/narvana?sslmode=require

# Authentication (required - generate with: openssl rand -base64 32)
JWT_SECRET=your-secret-key-at-least-32-characters

# API Server
API_HOST=0.0.0.0
API_PORT=8080
GRPC_PORT=9090

# External Services
# Attic binary cache server (for pushing built closures)
ATTIC_ENDPOINT=http://localhost:5000
REGISTRY_URL=registry.example.com:5000

# Worker Configuration
WORKER_WORKDIR=/var/lib/narvana/builds
WORKER_MAX_CONCURRENCY=4
BUILD_TIMEOUT=30m
PODMAN_SOCKET=unix:///run/podman/podman.sock

# Scheduler
SCHEDULER_HEALTH_THRESHOLD=30s
SCHEDULER_MAX_RETRIES=5
